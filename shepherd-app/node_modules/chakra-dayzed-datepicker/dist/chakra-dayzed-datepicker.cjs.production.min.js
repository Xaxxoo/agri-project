"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@chakra-ui/react"),t=require("dayzed"),n=require("react"),a=require("date-fns"),o=require("react-focus-lock");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=r(n),s=r(o),u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t.indexOf(n=r[a])>=0||(o[n]=e[n]);return o}var c=function(){function e(e){this.config=void 0,this.config=e}return e.prototype.getEvents=function(){var e=this;return{onKeyDown:function(t){switch(t.key){case"ArrowDown":e.config.down&&e.config.down();break;case"ArrowLeft":e.config.left&&e.config.left();break;case"ArrowRight":e.config.right&&e.config.right();break;case"ArrowUp":e.config.up&&e.config.up()}}}},e}(),p={variant:"ghost",size:"sm"},m=function(t){var a,o=t.calendars,r=t.getBackProps,s=null==(a=t.propsConfigs)?void 0:a.dateNavBtnProps;return l.default.createElement(n.Fragment,null,l.default.createElement(e.Button,d({},r({calendars:o,offset:12}),p,s),"<<"),l.default.createElement(e.Button,d({},r({calendars:o}),p,s),"<"))},g=function(t){var a,o=t.calendars,r=t.getForwardProps,s=null==(a=t.propsConfigs)?void 0:a.dateNavBtnProps;return l.default.createElement(n.Fragment,null,l.default.createElement(e.Button,d({},r({calendars:o}),p,s),">"),l.default.createElement(e.Button,d({},r({calendars:o,offset:12}),p,s),">>"))},v=function(t){var a=t.dateObj,o=t.propsConfigs,r=t.isInRange,s=t.disabledDates,u=t.onMouseEnter,i=a.date,f=a.selected,c=a.today,p=t.renderProps.getDateProps,m=(null==o?void 0:o.dayOfMonthBtnProps)||{},g=m.defaultBtnProps,v=m.isInRangeBtnProps,y=m.selectedBtnProps,h=m.todayBtnProps,P=!a.selectable||(null==s?void 0:s.has(i.getTime())),b=n.useMemo((function(){var e;return{defaultBtnProps:d({size:"sm",variant:"ghost"},g,{_after:d({content:"''",position:"absolute",top:"-0.125rem",left:"-0.125rem",bottom:"-0.125rem",right:"-0.125rem",borderWidth:"0.125rem",borderColor:"transparent"},null==g?void 0:g._after),_hover:d({bg:"purple.400"},null==g?void 0:g._hover,{_disabled:d({bg:"gray.100"},null==g||null==(e=g._hover)?void 0:e._disabled)})}),isInRangeBtnProps:d({background:"purple.200"},v),selectedBtnProps:d({background:"purple.200"},y),todayBtnProps:d({borderColor:"blue.400"},h)}}),[g,v,y,h]);return l.default.createElement(e.Button,d({},p({dateObj:a,disabled:P,onMouseEnter:u}),{isDisabled:P},b.defaultBtnProps,r&&!P&&b.isInRangeBtnProps,f&&!P&&b.selectedBtnProps,c&&b.todayBtnProps),i.getDate())},y=function(a){var o=a.configs,r=a.propsConfigs,s=a.disabledDates,u=a.onMouseEnterHighlight,i=a.isInRange,f=t.useDayzed(a.dayzedHookProps),p=f.calendars,y=f.getBackProps,h=f.getForwardProps,P=n.useMemo((function(){var e=o.firstDayOfWeek,t=o.dayNames;return e&&e>0?o.dayNames.slice(e,t.length).concat(t.slice(0,e)):t}),[o.firstDayOfWeek,o.dayNames]),b=n.useCallback((function(e){var t=document.activeElement,n=document.querySelectorAll("button");n.forEach((function(a,o){var r=o+e;a===t&&(r<=n.length-1&&r>=0?n[r].focus():n[0].focus())}))}),[]),D=new c({left:function(){b(-1)},right:function(){b(1)},up:function(){b(-7)},down:function(){b(7)}});return p.length<=0?null:l.default.createElement(e.Stack,d({className:"datepicker-calendar",direction:["column","column","row"]},D.getEvents()),p.map((function(t,n){return l.default.createElement(e.VStack,{key:n,height:"100%",borderWidth:"1px",padding:"0.5rem 0.75rem"},l.default.createElement(e.HStack,null,l.default.createElement(m,{calendars:p,getBackProps:y,propsConfigs:r}),l.default.createElement(e.Heading,{size:"sm",minWidth:"5rem",textAlign:"center"},o.monthNames[t.month]," ",t.year),l.default.createElement(g,{calendars:p,getForwardProps:h,propsConfigs:r})),l.default.createElement(e.Divider,null),l.default.createElement(e.SimpleGrid,{columns:7,spacing:1,textAlign:"center"},P.map((function(t,n){return l.default.createElement(e.Box,{fontSize:"sm",fontWeight:"semibold",key:n},t)})),t.weeks.map((function(n,a){return n.map((function(n,o){var d=t.month+"-"+t.year+"-"+a+"-"+o;if(!n)return l.default.createElement(e.Box,{key:d});var c=n.date;return l.default.createElement(v,{key:d,dateObj:n,propsConfigs:r,renderProps:f,isInRange:i&&i(c),disabledDates:s,onMouseEnter:function(){u&&u(c)}})}))}))))})))},h=["configs","propsConfigs","usePortal","disabledDates","defaultIsOpen","closeOnSelect"],P={dateFormat:"yyyy-MM-dd",monthNames:u,dayNames:i,firstDayOfWeek:0},b=["configs","propsConfigs","id","name","usePortal","defaultIsOpen","closeOnSelect"],D=function(t){var a=t.dayzedHookProps,o=t.configs,r=t.propsConfigs,s=t.selected,u=n.useState(null),i=u[0],d=u[1];return l.default.createElement(e.Flex,{onMouseLeave:function(){d(null)}},l.default.createElement(y,{dayzedHookProps:a,configs:o,propsConfigs:r,isInRange:function(e){if(!Array.isArray(s)||null==s||!s.length)return!1;var t=s[0];return 2===s.length?t<e&&s[1]>e:i&&(t<e&&i>=e||e<t&&e>=i)},onMouseEnterHighlight:function(e){Array.isArray(s)&&null!=s&&s.length&&d(e)}}))},E={dateFormat:"MM/dd/yyyy",monthNames:u,dayNames:i,firstDayOfWeek:0};exports.CalendarPanel=y,exports.Month_Names_Full=["January","February","March","April","May","June","July","August","September","October","November","December"],exports.Month_Names_Short=u,exports.RangeCalendarPanel=D,exports.RangeDatepicker=function(t){var o,r,u=t.configs,i=t.propsConfigs,c=void 0===i?{}:i,p=t.id,m=t.name,g=t.usePortal,v=t.defaultIsOpen,y=void 0!==v&&v,h=t.closeOnSelect,P=void 0===h||h,O=f(t,b),k=O.selectedDates,C=O.minDate,B=O.maxDate,S=O.onDateChange,w=O.disabled,M=n.useState(k[0]||new Date),x=M[0],N=M[1],F=n.useState(0),A=F[0],I=F[1],_=e.useDisclosure({defaultIsOpen:y}),W=_.onOpen,z=_.onClose,R=_.isOpen,j=d({},E,u),H=k[0]?""+a.format(k[0],j.dateFormat):"";H+=k[1]?" - "+a.format(k[1],j.dateFormat):"";var T=g?e.Portal:l.default.Fragment;return l.default.createElement(e.Popover,{placement:"bottom-start",variant:"responsive",isOpen:R,onOpen:W,onClose:function(){z(),N(k[0]||new Date),I(0)},isLazy:!0},l.default.createElement(e.PopoverTrigger,null,l.default.createElement(e.Input,d({onKeyPress:function(e){" "!==e.key||R||(e.preventDefault(),W())},id:p,autoComplete:"off",isDisabled:w,name:m,value:H,onChange:function(e){return e.target.value}},c.inputProps))),l.default.createElement(T,null,l.default.createElement(e.PopoverContent,d({width:"100%"},null==c||null==(o=c.popoverCompProps)?void 0:o.popoverContentProps),l.default.createElement(e.PopoverBody,d({},null==(r=c.popoverCompProps)?void 0:r.popoverBodyProps),l.default.createElement(s.default,null,l.default.createElement(D,{dayzedHookProps:{onDateSelected:function(e){var t=e.date;if(e.selectable){var n=[].concat(k);if(k.length){if(1===k.length)return k[0]<t?n.push(t):n.unshift(t),S(n),void(P&&z());if(2===n.length)return void S([t])}else n.push(t),S(n)}},selected:k,monthsToDisplay:2,date:x,minDate:C,maxDate:B,offset:A,onOffsetChanged:I,firstDayOfWeek:j.firstDayOfWeek},configs:j,propsConfigs:c,selected:k}))))))},exports.SingleDatepicker=function(t){var o,r,u=t.configs,i=t.propsConfigs,c=t.usePortal,p=t.disabledDates,m=t.defaultIsOpen,g=void 0!==m&&m,v=t.closeOnSelect,b=void 0===v||v,D=f(t,h),E=D.date,O=D.name,k=D.disabled,C=D.onDateChange,B=D.id,S=D.minDate,w=D.maxDate,M=n.useState(E),x=M[0],N=M[1],F=n.useState(0),A=F[0],I=F[1],_=e.useDisclosure({defaultIsOpen:g}),W=_.onOpen,z=_.onClose,R=_.isOpen,j=d({},P,u),H=c?e.Portal:l.default.Fragment;return l.default.createElement(e.Popover,{placement:"bottom-start",variant:"responsive",isOpen:R,onOpen:W,onClose:function(){z(),N(E),I(0)},isLazy:!0},l.default.createElement(e.PopoverTrigger,null,l.default.createElement(e.Input,d({onKeyPress:function(e){" "!==e.key||R||(e.preventDefault(),W())},id:B,autoComplete:"off",isDisabled:k,name:O,value:E?a.format(E,j.dateFormat):"",onChange:function(e){return e.target.value}},null==i?void 0:i.inputProps))),l.default.createElement(H,null,l.default.createElement(e.PopoverContent,d({width:"100%"},null==i||null==(o=i.popoverCompProps)?void 0:o.popoverContentProps),l.default.createElement(e.PopoverBody,d({},null==i||null==(r=i.popoverCompProps)?void 0:r.popoverBodyProps),l.default.createElement(s.default,null,l.default.createElement(y,{dayzedHookProps:{showOutsideDays:!0,onDateSelected:function(e){var t=e.date;if(e.selectable)return t instanceof Date&&!isNaN(t.getTime())?(C(t),void(b&&z())):void 0},selected:E,date:x,minDate:S,maxDate:w,offset:A,onOffsetChanged:I,firstDayOfWeek:j.firstDayOfWeek},configs:j,propsConfigs:i,disabledDates:p}))))))},exports.Weekday_Names_Short=i;
//# sourceMappingURL=chakra-dayzed-datepicker.cjs.production.min.js.map
